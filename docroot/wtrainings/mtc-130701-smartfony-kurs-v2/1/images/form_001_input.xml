<?xml version="1.0" encoding="utf-8" ?>
<!--
'*	form_001_input.xml
'*	Copyright (c) Websoft, 2007.  All rights reserved.
-->
<params>
	<object>
		<label>Поле текстового ввода</label>
		<width>120</width>
		<height>25</height>
		<description>Поле текстового ввода. Содержимое поля доступно через переменную run-time.</description>
	</object>
	<page name="Параметры" w="220" h="180">
		<param type="label" text="Имя переменной run-time:" x="10" y="10" w="110" h="13"/>
		<param type="edit" id="input_id" text="" def="input_var" x="120" y="9" w="45" h="13"/>
		<param type="label" text="Область действия переменной:" x="10" y="26" w="110" h="13"/>
		<param type="select" id="var_scope" text="" def="slide" x="120" y="25" w="80" h="13">
			<items>
				<item id="slide" label="В пределах слайда"/>
				<item id="global" label="Во всем модуле"/>
			</items>
		</param>
		<param type="label" text="Текст по умолчанию:" x="10" y="42" w="110" h="13"/>
		<param type="edit" id="input_text" text="" def="" x="120" y="41" w="80" h="13"/>
		<param type="label" text="Ограничение по длине:" x="10" y="58" w="110" h="13"/>
		<param type="edit" id="input_maxlength" text="" def="" x="120" y="57" w="18" h="13"/>
		<param type="label" text="символов" x="142" y="58" w="50" h="13"/>
	</page>
	<page name="Вид" w="220" h="180">
		<param type="label" text="Стиль границы:" x="10" y="10" w="110" h="13"/>
		<param type="select" id="input_border_style" text="" def="solid" x="120" y="9" w="80" h="13">
			<items>
				<item id="none" label="Без границы"/>
				<item id="solid" label="Сплошной"/>
				<item id="double" label="Двойной"/>
				<item id="inset" label="Выпуклый"/>
				<item id="outset" label="Вдавленный"/>
				<item id="dashed" label="Тире"/>
				<item id="dotted" label="Точки"/>
			</items>
		</param>
		<param type="label" text="Толщина границы:" x="10" y="26" w="110" h="13"/>
		<param type="edit" id="input_border_width" text="" def="2" x="120" y="25" w="18" h="13"/>
		<param type="label" text="пикс." x="142" y="26" w="50" h="13"/>
		<param type="label" text="Цвет границы:" x="10" y="42" w="110" h="13"/>
		<param type="color" id="input_border_color" text="" def="#666666" x="120" y="41" w="45" h="13"/>
		<param type="label" text="Цвет заливки:" x="10" y="58" w="110" h="13"/>
		<param type="color" id="input_bg_color" text="" def="#FFFFFF" x="120" y="57" w="45" h="13"/>
		<param type="label" text="Шрифт:" x="10" y="74" w="110" h="13"/>
		<param type="select" id="input_font" text="" def="Arial" x="120" y="73" w="80" h="13">
			<items>
				<item id="Arial" label="Arial"/>
				<item id="Tahoma" label="Tahoma"/>
				<item id="Times" label="Times"/>
				<item id="Verdana" label="Verdana"/>
			</items>
		</param>
		<param type="label" text="Размер шрифта:" x="10" y="90" w="110" h="13"/>
		<param type="edit" id="input_font_size" text="" def="12" x="120" y="89" w="18" h="13"/>
		<param type="label" text="пикс." x="142" y="90" w="50" h="13"/>
		<param type="label" text="Жирность шрифта:" x="10" y="106" w="110" h="13"/>
		<param type="select" id="input_font_weight" text="" def="normal" x="120" y="105" w="80" h="13">
			<items>
				<item id="normal" label="Обычный"/>
				<item id="bold" label="Жирный"/>
			</items>
		</param>
		<param type="label" text="Наклон шрифта:" x="10" y="122" w="110" h="13"/>
		<param type="select" id="input_font_style" text="" def="normal" x="120" y="121" w="80" h="13">
			<items>
				<item id="normal" label="Обычный"/>
				<item id="italic" label="Курсив"/>
			</items>
		</param>
		<param type="label" text="Цвет:" x="10" y="138" w="110" h="13"/>
		<param type="color" id="input_font_color" text="" def="#000000" x="120" y="137" w="45" h="13"/>
		<param type="label" text="Выравнивание текста:" x="10" y="154" w="110" h="13"/>
		<param type="select" id="input_text_align" text="" def="left" x="120" y="153" w="80" h="13">
			<items>
				<item id="center" label="По центру"/>
				<item id="left" label="По левому краю"/>
				<item id="right" label="По правому краю"/>
			</items>
		</param>
	</page>
	<page name="Звук" w="220" h="180">
		<param type="check" id="sound.enabled" text=" Использовать звуковые эффекты " def="no" x="10" y="9" w="132" h="13">
			<events>
				<event name="check" target="lab.sound.file.click" action="enable"/>
				<event name="check" target="sound.file.click" action="enable"/>
				<event name="check" target="lab.sound.file.click.user" action="enable"/>
				<event name="check" target="sound.file.click.user" action="enable"/>
				<event name="uncheck" target="lab.sound.file.click" action="disable"/>
				<event name="uncheck" target="sound.file.click" action="disable"/>
				<event name="uncheck" target="lab.sound.file.click.user" action="disable"/>
				<event name="uncheck" target="sound.file.click.user" action="disable"/>
			</events>
		</param>
		<param type="label" id="lab.sound.file.click" text="Звук нажатия:" def="" x="10" y="26" w="90" h="13"/>
		<param type="select" id="sound.file.click" text="" def="click1" x="100" y="25" w="100" h="13">
			<items>
				<item id="click1" label="Стандартный 1">
					<events>
						<event name="selendok" target="lab.sound.file.click.user" action="disable"></event>
						<event name="selendok" target="sound.file.click.user" action="disable"></event>
					</events>
				</item>
				<item id="click2" label="Стандартный 2">
					<events>
						<event name="selendok" target="lab.sound.file.click.user" action="disable"></event>
						<event name="selendok" target="sound.file.click.user" action="disable"></event>
					</events>
				</item>
				<item id="click3" label="Стандартный 3">
					<events>
						<event name="selendok" target="lab.sound.file.click.user" action="disable"></event>
						<event name="selendok" target="sound.file.click.user" action="disable"></event>
					</events>
				</item>
				<item id="click4" label="Стандартный 4">
					<events>
						<event name="selendok" target="lab.sound.file.click.user" action="disable"></event>
						<event name="selendok" target="sound.file.click.user" action="disable"></event>
					</events>
				</item>
				<item id="custom" label="Загрузить нестандартный">
					<events>
						<event name="selendok" target="lab.sound.file.click.user" action="enable"></event>
						<event name="selendok" target="sound.file.click.user" action="enable"></event>
					</events>
				</item>
			</items>
		</param>
		<param type="label" id="lab.sound.file.click.user" text="Звуковой файл:" def="" x="10" y="42" w="90" h="13"/>
		<param type="file" id="sound.file.click.user" text="" def="" x="100" y="41" w="83" h="13"/>
	</page>
	<methods>
		<method name="Constructor" label="_Constructor" access="private">
            <params>
            </params>
            <body>
                <![CDATA[function Constructor(argobj)
                {
                    if(argobj.pid==null) return false;
					var oCurObj = document.getElementById(argobj.pid);
					if(oCurObj==null) return false;
					var oParams = g_oParams.selectSingleNode("./param[@objectid='"+argobj.pid+"']");
					if(oParams==null) return false;
					var bGlobal = oParams.selectSingleNode("var_scope").text=="global";
					var sVarName = oParams.selectSingleNode("input_id").text=="" ? "input_var" : oParams.selectSingleNode("input_id").text;
					var oInput = document.getElementById(argobj.pid+"_input");
					if(bGlobal) {
						g_arVars[sVarName] = oInput.value;
					} else {
						g_arSlideVars[sVarName] = oInput.value;
					}
					return true;
				}]]>
			</body>
		</method>
		<method name="ReadInput" label="_ReadInput" access="private">
            <params>
            </params>
            <body>
                <![CDATA[function ReadInput(argobj)
                {
                    if(argobj.pid==null) return false;
					var oCurObj = document.getElementById(argobj.pid);
					if(oCurObj==null) return false;
					var oParams = g_oParams.selectSingleNode("./param[@objectid='"+argobj.pid+"']");
					if(oParams==null) return false;
					var bGlobal = oParams.selectSingleNode("var_scope").text=="global";
					var sVarName = oParams.selectSingleNode("input_id").text=="" ? "input_var" : oParams.selectSingleNode("input_id").text;
					var oInput = document.getElementById(argobj.pid+"_input");
					if(bGlobal) {
						g_arVars[sVarName] = oInput.value;
					} else {
						g_arSlideVars[sVarName] = oInput.value;
					}
					PlayObjectSound({ pid: argobj.pid, snd: "click" });
					return true;
				}]]>
			</body>
		</method>
		<method name="AcceptInput" label="_AcceptInput" access="private">
            <params>
            </params>
            <body>
                <![CDATA[function AcceptInput(argobj)
                {
                    if(argobj.pid==null) return false;
					var oCurObj = document.getElementById(argobj.pid);
					if(oCurObj==null) return false;
					var oParams = g_oParams.selectSingleNode("./param[@objectid='"+argobj.pid+"']");
					if(oParams==null) return false;
					var bGlobal = oParams.selectSingleNode("var_scope").text=="global";
					var sVarName = oParams.selectSingleNode("input_id").text=="" ? "input_var" : oParams.selectSingleNode("input_id").text;
					var oInput = document.getElementById(argobj.pid+"_input");
					if(bGlobal) {
						g_arVars[sVarName] = oInput.value;
					} else {
						g_arSlideVars[sVarName] = oInput.value;
					}
					FireEvent(argobj.pid, "onLeave");
					return true;
				}]]>
			</body>
		</method>
		<method name="DisableInput" label="ЗАПРЕТИТЬ" access="public">
            <params>
            </params>
            <body>
                <![CDATA[function DisableInput(argobj)
                {
                    if(argobj.pid==null) return false;
					var oCurObj = document.getElementById(argobj.pid);
					if(oCurObj==null) return false;
					var oInput = document.getElementById(argobj.pid+"_input");
					oInput.disabled = true;
					return true;
				}]]>
			</body>
		</method>
		<method name="EnableInput" label="РАЗРЕШИТЬ" access="public">
            <params>
            </params>
            <body>
                <![CDATA[function EnableInput(argobj)
                {
                    if(argobj.pid==null) return false;
					var oCurObj = document.getElementById(argobj.pid);
					if(oCurObj==null) return false;
					var oInput = document.getElementById(argobj.pid+"_input");
					oInput.disabled = false;
					return true;
				}]]>
			</body>
		</method>
		<method name="SetValue" label="УСТАНОВИТЬ ЗНАЧЕНИЕ" access="public">
            <params>
				<param type="text" name="val" label="Значение:"/>
            </params>
            <body>
                <![CDATA[function SetValue(argobj)
                {
                    if(argobj.pid==null || argobj.val==null) return false;
					var oCurObj = document.getElementById(argobj.pid);
					if(oCurObj==null) return false;
					var oParams = g_oParams.selectSingleNode("./param[@objectid='"+argobj.pid+"']");
					if(oParams==null) return false;
					var bGlobal = oParams.selectSingleNode("var_scope").text=="global";
					var sVarName = oParams.selectSingleNode("input_id").text=="" ? "input_var" : oParams.selectSingleNode("input_id").text;
					var oInput = document.getElementById(argobj.pid+"_input");
					var sString = ReplacePropertiesInStr(argobj.val);
					sString = ReplaceVariablesInStr(sString);
					oInput.value = sString;
					if(bGlobal)
					{
						g_arVars[sVarName] = oInput.value;
					}
					else
					{
						g_arSlideVars[sVarName] = oInput.value;
					}
					return true;
				}]]>
			</body>
		</method>
		<method name="GetProperty" label="_GetProperty" access="private">
			<params>
			</params>
			<body>
				<![CDATA[function GetProperty(argobj)
				{
					if(argobj.pid==null || argobj.property==null) return false;
					var oCurObj = document.getElementById(argobj.pid);
					if(oCurObj==null) return false;
					var oInput = document.getElementById(argobj.pid+"_input");
					switch(argobj.property.toLowerCase()) {
						case "disabled":		g_vPropertyValue = oInput.disabled ? "1" : "0";	break;
						case "value":			g_vPropertyValue = oInput.value; 	break;
						default: return true;
					}
					return true;
				}]]>
			</body>
		</method>
	</methods>
</params>
